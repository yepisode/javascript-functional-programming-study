<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>함수형 자바스크립트 - filter</title>
</head>
<body>
<script>
/**
 * filter
 */
const list = [
    {title: '제목1', content: '내용1'},
    {title: '제목2', content: '내용2'},
    {title: '제목3', content: '내용3'}
];
console.log("명령형 코드");
/**
 * 명령형 코드 (1)
 */
const new_list = [];
for (const a of list) {
    if (a.title.indexOf('제목1') !== -1) {
        new_list.push(a);
    }
}
console.log(new_list);

/**
 * 명령형 코드 (2)
 */
const new_list2 = [];
for (const a of list) {
    if (a.content.indexOf('내용2') !== -1) {
        new_list2.push(a);
    }
}
console.log(new_list2);

console.log("함수형 코드");
/**
 * 함수형 코드
 */
const filter = (f, iter) => {
    let res = [];
    for (const a of iter) {
        if (f(a)) res.push(a);
    }
    return res;
};

console.log(filter(a => a.title.indexOf('제목1') !== -1, list));
console.log(filter(a => a.content.indexOf('내용2') !== -1, list));

/**
 * filter 배열 처리
 */
console.log("filter 배열 처리");
const filter2 = (f, iter) => {
    let res = [];
    for (const a of iter) {
        if (f(a)) res.push(a);
    }
    return res;
};

console.log(filter2(a => a % 2, [1, 2, 3, 4]));

/**
 * filter 제너레이터 처리
 */
console.log("filter 제너레이터 처리");
const filter3 = (f, iter) => {
    let res = [];
    for (const a of iter) {
        if (f(a)) res.push(a);
    }
    return res;
};

console.log(filter3(a => a % 2, function* () {
    yield 1;
    yield 2;
    yield 3;
    yield 4;
}()));


</script>
</body>
</html>